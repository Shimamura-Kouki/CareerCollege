# PHP上級用試験 解答例

プログラムは様々な記法があるので、解答はあくまでも「一例」です。  
判断に困る場合などは、教務経由で質問を投げてください。  

## 演算と出力

### サンプル回答

```
<?php
// 変数 i に 10, 変数 j に 25 を代入しなさい。  
$i = 10;
$j = 25;

// 次に、変数 i と変数 j を四則演算(足し算、引き算、かけ算、割り算)して、結果をそれぞれ、echoを使って出力しなさい。
echo $i + $j , "\n";
echo $i - $j , "\n";
echo $i * $j , "\n";
echo $i / $j , "\n";
```

### 実行例

```
35
-15
250
0.4
```

### 解説

「四則演算の書き方」と「変数の出力の仕方」を問う問題です。  
サンプルでは単純に「答えだけ」を出力していますが、$iと$jの値を入れた書き方などもありますので、四則演算ができていればよいとします。  

## 文字列の出力

### サンプル回答

```
<?php
// 変数 name に、自分の名前を代入しなさい。  
$name = '古庄 道明';
// 次に、 name と改行コードを、echoを使って出力しなさい。
echo "{$name} \n";
```

### 実行例

```
古庄 道明
```

### 解説

文字と改行の出力です。  
文字については、シングルクォートでもダブルクォートでもどちらでもOKです。   
echoについても「変数の埋め込み」のほか、「echoを2回書く」「カンマで区切る」など様々な書き方があるので、正しく出力できれいればOKとします。  
改行は `"\n"` をきちんとかけているかどうかがポイントです。  

## 配列の処理

### サンプル回答

```
<?php
// 変数 arr に、空の配列を作成しなさい。  
$arr = [];
// 次に、arr に 1, 2, 3の3つの数値をそれぞれ追加し、要素3つの配列を作りなさい。  
$arr[] = 1;
$arr[] = 2;
$arr[] = 3;
// 次に、foreachを使ってすべての値を出力しなさい。  
foreach ($arr as $v) {
    echo "{$v} \n";
}

```

### 実行例

```
1 
2 
3 
```

### 解説

空の配列は、 `array()` か `[]` で作成をします。  
`array()` は古い書式になり、最近の現場だと `[]` で書かれる事が多いので、`[]` で覚えておきましょう。  
配列への要素の追加は、`array_push()` でもよいのですが、サンプルの書き方を覚えておくと楽です。  
foreachもほぼそのままの書き方になります。中の一時変数の変数名はなんでもよいです。  

## hash配列の処理

### サンプル回答

```
<?php
// 変数 harr に、空の配列を作成しなさい。  
$harr = [];
// 次に、harr に以下の情報を追加し、要素3つのhash配列を作りなさい。
$harr['key_1'] = 111;
$harr['key_2'] = '2nd';
$harr['key_3'] = 3.14;
// 次に、foreachを使ってすべての「キーと値」を出力しなさい。
foreach ($harr as $k => $v) {
    echo "{$k}: {$v} \n";
}
```

### 実行例

```
key_1: 111 
key_2: 2nd 
key_3: 3.14 
```

### 解説

hash配列の問題です。  
内容は普通の配列とそれほど大きく違わないかと思いますので、注意点なども配列に準じます。  
key_2 の値は「明らかに文字列」なので、この値はかならず「文字列」にする必要があります。
あとの2つの値は、数値でも文字列でもどちらでもOKです。  


## if文 1

### サンプル回答

```
<?php
// 変数 i に、`random_int(0, 2)` で、0～2の間の乱数を代入しなさい。  
$i = random_int(0, 2);
// if文を作成します。
if ($i === 0) {
    // - 変数 i が 0 なら、"Zero" と出力しなさい。
    echo 'Zero';
} else if ($i === 1) {
    // - 変数 i が 1 なら、"1st" と出力しなさい。
    echo '1st';
} else {
    // - 変数 i が 上述以外なら、 "any" と出力しなさい。
    echo 'any';
}
```

### 実行例

```
Zero
```

乱数を使っているので、1st や any になる可能性があります。  

### 解説

「等しいかどうか」の条件式を使うif文です。  
`==` と `===` は一応どちらも正解ですが、 `===` を使う癖をつけておきましょう。  
`=` は比較ではないので、不正解となります。  
最後の `else` は `else if` でもよいのですが、設問が「上述以外」なので、どちらかというと `else` のほうが「より適切」であろうと思われます。  

## if文 2

### サンプル回答

```
<?php
// 変数 height に、 `random_int(110, 160)` で、110～160の間の乱数を代入しなさい。  
$height = random_int(110, 160);
// 変数 age に、 `random_int(54,74)` で、54～74の間の乱数を代入しなさい。  
$age = random_int(54,74);
// if文を作成します
if ( ($height >= 130)&&($age <= 64) ) {
    // - heightが130以上、かつ、ageが64以下」なら "can ride" と出力しなさい。
    echo 'can ride';
} else {
    // - 上述の条件に合致しない場合、"can't ride" と出力しなさい。  
    echo "can't ride";
}
```

### 実行例

```
can't ride
```

乱数を使っているので、can ride になる可能性があります。  

### 解説

「2つの比較条件式」をつなぐ論理演算子の問題です。  
&& が and になるのは無問題です(PHPだとどちらもかけるので)。  
不等号で <= と < の違いは把握しておきましょう。境界線上の 130 や 64 を正しく処理できているかどうかがポイントです。  
height に絞ると `$height > 130` は不正解、`$height > 129` は正解となります。が、設問に「130」という数値があるので、コード内の数値も130であるほうがわかりやすいので、 `$height >= 130` と書く方がより適切です。  
また、can't ride の文字列にはシングルクォートが含まれているので、文字列をシングルクォートで作成している時は気をつけましょう。  

## switch文

### サンプル回答

```
<?php
// 変数 i に、`random_int(0, 2)` で、0～2の間の乱数を代入しなさい。  
$i = random_int(0, 2);
// switch文を作成します。
switch($i) {
    // - 変数 i が 0 なら、"Zero" と出力しなさい。
    case 0:
        echo 'Zero';
        break;

    // - 変数 i が 1 なら、"1st" と出力しなさい。
    case 1:
        echo '1st';
        break;

    // - 変数 i が 上述以外なら、 "any" と出力しなさい。
    default:
        echo 'any';
        break;
}
```

### 実行例

```
Zero
```

乱数を使っているので、1st や any になる可能性があります。  

### 解説

breakの書き忘れに注意しましょう。  
最後は `case 2:` でもよいですが、ifの時と同じ理由で `default` のほうが「より適切」だと思われます。  

## match式

### サンプル回答

```
<?php
// 変数 i に、`random_int(0, 2)` で、0～2の間の乱数を代入しなさい。  
$i = random_int(0, 2);
// match式を作成します。
$s = match($i) {
    0 => 'Zero',    // - 変数 i が 0 なら、"Zero" と出力しなさい。
    1 => '1st',     // - 変数 i が 1 なら、"1st" と出力しなさい。
    default => 'any', // - 変数 i が 上述以外なら、 "any" と出力しなさい。
};
echo $s;
```

### 実行例

```
Zero
```

乱数を使っているので、1st や any になる可能性があります。  

### 解説

match式の書き方です。  
今回は「変数に受けとって」「echoで出力」としましたが、直接echoで出力してしまってもOKです。  
defaultの下りはif文やswitchの所と同様です。  

## for文

### サンプル回答

```
<?php
// `echo ".\n";` の文をfor文の中に入れて、.(ドット)を10回出力するコードを書きなさい。
for($i = 0; $i < 10; ++$i) {
    echo ".\n";
}

```

### 実行例

```
.
.
.
.
.
.
.
.
.
.
```

### 解説

for文の書き方です。  
書き方で微妙に「9回」や「11回」になる事があるので、不安な人はきちんと出力されたドットの数を数えてみましょう。  
「0以上10未満」「1以上10以下」「0以上9以下」「1以上11未満」などいくつか不等号のところの書き方はありますが、別の設問でもあったように「仕様に10という数値があるので、10という数値がコード内にある」ほうが読みやすいでしょう。  
加算子`++` を前後どちらに置くか? は多分に好みです(ものすごくわずかに、前置のほうが性能が出るため、サンプルでは前置で書いています)。  


## while文

### サンプル回答

```
<?php
// `echo ".\n";` の文をwhile文の中に入れて、.(ドット)を10回出力するコードを書きなさい。
$i = 0;
while($i < 10) {
    echo ".\n";
    ++$i;
}
```

### 実行例

```
.
.
.
.
.
.
.
.
.
.
```

### 解説

whileの書き方です。  
論点は大体 for と一緒なので割愛します。  

## 繰り返しのネスト

### サンプル回答

```
<?php
// for文またはwhile文を二重に重ねて(ネストさせて)、かけ算の九九の表を表示しなさい。
for ($i = 1; $i <= 9; ++$i) {
    for ($j = 1; $j <= 9; ++$j) {
        echo "{$i}*{$j}=", $i * $j , ': ';
    }
    echo "\n";
}
```

### 実行例

```
1*1=1: 1*2=2: 1*3=3: 1*4=4: 1*5=5: 1*6=6: 1*7=7: 1*8=8: 1*9=9: 
2*1=2: 2*2=4: 2*3=6: 2*4=8: 2*5=10: 2*6=12: 2*7=14: 2*8=16: 2*9=18: 
3*1=3: 3*2=6: 3*3=9: 3*4=12: 3*5=15: 3*6=18: 3*7=21: 3*8=24: 3*9=27: 
4*1=4: 4*2=8: 4*3=12: 4*4=16: 4*5=20: 4*6=24: 4*7=28: 4*8=32: 4*9=36: 
5*1=5: 5*2=10: 5*3=15: 5*4=20: 5*5=25: 5*6=30: 5*7=35: 5*8=40: 5*9=45: 
6*1=6: 6*2=12: 6*3=18: 6*4=24: 6*5=30: 6*6=36: 6*7=42: 6*8=48: 6*9=54: 
7*1=7: 7*2=14: 7*3=21: 7*4=28: 7*5=35: 7*6=42: 7*7=49: 7*8=56: 7*9=63: 
8*1=8: 8*2=16: 8*3=24: 8*4=32: 8*5=40: 8*6=48: 8*7=56: 8*8=64: 8*9=72: 
9*1=9: 9*2=18: 9*3=27: 9*4=36: 9*5=45: 9*6=54: 9*7=63: 9*8=72: 9*9=81: 
```

### 解説

ループのネストです。  
今回は「九九」であるため、「1と9」が出てくるので、for文が `($i = 1; $i <= 9; ++$i)` 等となっています。  
区切りの文字、改行の有無などいろいろと差異が出るかと思いますが、大体「九九の表」っぽいものが出ていれば正解とします。  






