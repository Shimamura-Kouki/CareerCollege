mysql -u  ec_sample_user -p --skip-binary-as-hex ec_sample
ec_sample_pass

SELECT NOW();
select now();
SELECT 1+2;

-- SELECT * FROM テーブル名;
SELECT * FROM categories;
SELECT * FROM items;
SELECT * FROM items \G
SELECT * FROM tags;
SELECT * FROM tags \G

SELECT * FROM items WHERE item_id = 1;
SELECT * FROM items WHERE item_id = 1 \G

SELECT * FROM items WHERE item_name = 'ハンバーガー';
SELECT * FROM items WHERE item_name = 'ハンバーガー' \G

SELECT * FROM items WHERE price = 111;
SELECT * FROM items WHERE price = 111 \G

SELECT * FROM items WHERE price = 99999;
SELECT * FROM items WHERE price = 99999 \G

SELECT * FROM items WHERE price > 500;
SELECT * FROM items WHERE price > 500 \G

SELECT * FROM items WHERE price >= 500;
SELECT * FROM items WHERE price >= 500 \G

-- 開区間
SELECT * FROM items WHERE price > 500 AND price < 1000;
SELECT * FROM items WHERE price > 500 AND price < 1000 \G

-- 閉区間
SELECT * FROM items WHERE price >= 500 AND price <= 1000;
SELECT * FROM items WHERE price >= 500 AND price <= 1000 \G

-- 閉区間なら
SELECT * FROM items WHERE price BETWEEN 500 AND 1000;
SELECT * FROM items WHERE price BETWEEN 500 AND 1000 \G

SELECT * FROM items WHERE release_at <= '2020-06-18 00:00:00';
SELECT * FROM items WHERE release_at <= '2020-06-18 00:00:00'\G

SELECT * FROM users \G

-- VARCHAR
-- VARBINARY

SELECT 'a' = 'a';
SELECT 'a' = 'b';
SELECT 'a' = 'A';

SELECT * FROM users WHERE user_name = '黒田' \G

SELECT * FROM users WHERE user_name LIKE '黒田%' \G
SELECT * FROM users WHERE user_name LIKE '%田%' \G

-- 
SELECT * FROM items \G
SELECT * FROM items LIMIT 5 OFFSET 0 \G

SELECT * FROM items ORDER BY price \G
SELECT * FROM items ORDER BY release_at \G

SELECT * FROM items ORDER BY price DESC \G
SELECT * FROM items ORDER BY release_at DESC \G

SELECT * FROM items ORDER BY price DESC LIMIT 2 OFFSET 0 \G
SELECT * FROM items ORDER BY release_at LIMIT 2 OFFSET 0 \G

SELECT * FROM items WHERE release_at = NULL \G -- これは「だめ」
SELECT * FROM items WHERE release_at IS NULL \G
SELECT * FROM items WHERE release_at IS NOT NULL \G

SELECT * FROM items WHERE release_at IS NOT NULL ORDER BY release_at LIMIT 2 OFFSET 0 \G

-- 
SELECT * FROM items \G
SELECT *
  FROM items
\G

SELECT * FROM items WHERE release_at IS NOT NULL ORDER BY release_at LIMIT 2 OFFSET 0 \G
SELECT 
       *
  FROM 
       items
 WHERE 
       release_at IS NOT NULL
 ORDER BY 
       release_at
 LIMIT 2
OFFSET 0
\G

-- 

-- 一行コメント
/*
 複数行コメント
 */

-- 
SELECT * FROM categories;
SELECT * FROM items WHERE category_id = 1 \G

SELECT SUM(price) FROM items WHERE category_id = 1;
SELECT SUM(price) FROM items WHERE category_id = 2;

SELECT AVG(price) FROM items WHERE category_id = 1;
SELECT AVG(price) FROM items WHERE category_id = 2;

SELECT STDDEV_POP(price) FROM items WHERE category_id = 1;
SELECT STDDEV_POP(price) FROM items WHERE category_id = 2;

-- 
SHOW TABLES;

SELECT * FROM items LIMIT 1 \G
SELECT * FROM categories WHERE category_id = 1 ;

SELECT *
  FROM items
       LEFT JOIN categories
              ON items.category_id = categories.category_id
 LIMIT 1
\G

SELECT *
  FROM items
       LEFT JOIN categories
            USING(category_id)
 LIMIT 1
\G

SELECT 
       items.*
       , categories.category_name
  FROM items
       LEFT JOIN categories
              ON items.category_id = categories.category_id
 LIMIT 1
\G

-- 
SELECT * FROM tags;
SELECT * FROM items_tags; -- 中間テーブル

SELECT * FROM items_tags WHERE tag_id = 1;

SELECT items.*
  FROM items_tags
       LEFT JOIN items ON items.item_id = items_tags.item_id
 WHERE tag_id = 1
\G

SELECT items.*
       , tags.tag_id
       , tags.tag_name
  FROM items_tags
       LEFT JOIN items ON items.item_id = items_tags.item_id
       LEFT JOIN tags ON tags.tag_id = items_tags.tag_id
 WHERE tags.tag_id = 1
\G

/*
カテゴリテーブル( categories )の全レコードを表示するSQLを書きなさい
 */
SELECT * FROM categories;

/*
ユーザテーブル( users )の全レコードを表示するSQLを書きなさい
 */
SELECT * FROM users;

/*
商品テーブル( items )の、商品ID(item_id)が3のレコードを表示するSQLを書きなさい
 */
SELECT * FROM items WHERE item_id=3;

/*
商品テーブル( items )の、カテゴリID(category_id)が3のレコードを表示するSQLを書きなさい
 */
SELECT * FROM items WHERE category_id=3;

